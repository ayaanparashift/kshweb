// import BlogInsideSpot from "./Components/BlogInsideSpot";
// import InsideSlide from "./Components/InsideSlide";

// const page = () => {
//   return (
//     <>
//       <BlogInsideSpot />

//       {/* Blog */}

//       <div className="fix12 px-10">
//         <div className="middleBlogContent flex lg:gap-20 gap-9 py-20 relative">
//           <div className="colIcon h-fit sticky top-20">
//             <div className="flex w-10 flex-col gap-8">
//               <img className="w-9 h-9" src="/binside/BinFB.svg" alt="" />
//               <img className="w-9 h-9" src="/binside/BinIN.svg" alt="" />
//               <img className="w-9 h-9" src="/binside/BinInsta.svg" alt="" />
//             </div>
//           </div>
//           <div className="colContnt">
//             <h2 className="fsans-600 text-3xl pb-5">
//               Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi
//               laoreet magna ut odio blandit posuere.
//             </h2>

//             <div className="fsans-400 text-base leading-7 space-y-[18px] text-[#434343]">
//               <p>
//                 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi
//                 laoreet magna ut odio blandit posuere. Nulla pretium risus quam,
//                 at ultricies nisl posuere sed. Morbi tempus pellentesque felis,
//                 sed tempus orci. Praesent tortor purus, lacinia eu porta vel,
//                 interdum vel elit. Nam sed odio eu nisl molestie sagittis.
//                 Phasellus convallis, nibh nec vehicula molestie, elit eros
//                 facilisis diam, ut tempus mi felis ac massa. Vivamus id
//                 tristique nisi, blandit eleifend tellus. Morbi sit amet ante
//                 nunc. Ut consectetur lobortis pharetra.
//               </p>
//               <p>
//                 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi
//                 laoreet magna ut odio blandit posuere. Nulla pretium risus quam,
//                 at ultricies nisl posuere sed. Morbi tempus pellentesque felis,
//                 sed tempus orci. Praesent tortor purus, lacinia eu porta vel,
//                 interdum vel elit. Nam sed odio eu nisl molestie sagittis.
//                 Phasellus convallis, nibh nec vehicula molestie, elit eros
//                 facilisis diam, ut tempus mi felis ac massa. Vivamus id
//                 tristique nisi, blandit eleifend tellus. Morbi sit amet ante
//                 nunc. Ut consectetur lobortis pharetra.
//               </p>
//               <p>
//                 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi
//                 laoreet magna ut odio blandit posuere. Nulla pretium risus quam,
//                 at ultricies nisl posuere sed. Morbi tempus pellentesque felis,
//                 sed tempus orci. Praesent tortor purus, lacinia eu porta vel,
//                 interdum vel elit. Nam sed odio eu nisl molestie sagittis.
//                 Phasellus convallis, nibh nec vehicula molestie, elit eros
//                 facilisis diam, ut tempus mi felis ac massa. Vivamus id
//                 tristique nisi, blandit eleifend tellus. Morbi sit amet ante
//                 nunc. Ut consectetur lobortis pharetra.
//               </p>
//             </div>

//             <div className="blogImg py-14">
//               <img src="/binside/blogINImg.png" alt="" />
//             </div>

//             <h2 className="fsans-600 text-3xl pb-5">
//               Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi
//               laoreet magna ut odio blandit posuere. Nulla pretium risus quam,
//               at ultricies nisl posuere sed.
//             </h2>

//             <div className="fsans-400 text-base leading-7 space-y-[18px] text-[#434343] pb-14">
//               <p>
//                 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi
//                 laoreet magna ut odio blandit posuere. Nulla pretium risus quam,
//                 at ultricies nisl posuere sed. Morbi tempus pellentesque felis,
//                 sed tempus orci. Praesent tortor purus, lacinia eu porta vel,
//                 interdum vel elit. Nam sed odio eu nisl molestie sagittis.
//                 Phasellus convallis, nibh nec vehicula molestie, elit eros
//                 facilisis diam, ut tempus mi felis ac massa. Vivamus id
//                 tristique nisi, blandit eleifend tellus. Morbi sit amet ante
//                 nunc. Ut consectetur lobortis pharetra.
//               </p>
//               <p>
//                 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi
//                 laoreet magna ut odio blandit posuere. Nulla pretium risus quam,
//                 at ultricies nisl posuere sed. Morbi tempus pellentesque felis,
//                 sed tempus orci. Praesent tortor purus, lacinia eu porta vel,
//                 interdum vel elit. Nam sed odio eu nisl molestie sagittis.
//                 Phasellus convallis, nibh nec vehicula molestie, elit eros
//                 facilisis diam, ut tempus mi felis ac massa. Vivamus id
//                 tristique nisi, blandit eleifend tellus. Morbi sit amet ante
//                 nunc. Ut consectetur lobortis pharetra.
//               </p>
//             </div>

//             <h2 className="fsans-600 text-3xl pb-5">
//               Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi
//               laoreet magna ut odio blandit posuere.
//             </h2>

//             <div className="fsans-400 text-base leading-7 space-y-[18px] text-[#434343]">
//               <p>
//                 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi
//                 laoreet magna ut odio blandit posuere. Nulla pretium risus quam,
//                 at ultricies nisl posuere sed. Morbi tempus pellentesque felis,
//                 sed tempus orci. Praesent tortor purus, lacinia eu porta vel,
//                 interdum vel elit. Nam sed odio eu nisl molestie sagittis.
//                 Phasellus convallis, nibh nec vehicula molestie, elit eros
//                 facilisis diam, ut tempus mi felis ac massa. Vivamus id
//                 tristique nisi, blandit eleifend tellus. Morbi sit amet ante
//                 nunc. Ut consectetur lobortis pharetra.
//               </p>
//               <p>
//                 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi
//                 laoreet magna ut odio blandit posuere. Nulla pretium risus quam,
//                 at ultricies nisl posuere sed. Morbi tempus pellentesque felis,
//                 sed tempus orci. Praesent tortor purus, lacinia eu porta vel,
//                 interdum vel elit. Nam sed odio eu nisl molestie sagittis.
//                 Phasellus convallis, nibh nec vehicula molestie, elit eros
//                 facilisis diam, ut tempus mi felis ac massa. Vivamus id
//                 tristique nisi, blandit eleifend tellus. Morbi sit amet ante
//                 nunc. Ut consectetur lobortis pharetra.
//               </p>
//               <p>
//                 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi
//                 laoreet magna ut odio blandit posuere. Nulla pretium risus quam,
//                 at ultricies nisl posuere sed. Morbi tempus pellentesque felis,
//                 sed tempus orci. Praesent tortor purus, lacinia eu porta vel,
//                 interdum vel elit. Nam sed odio eu nisl molestie sagittis.
//                 Phasellus convallis, nibh nec vehicula molestie, elit eros
//                 facilisis diam, ut tempus mi felis ac massa. Vivamus id
//                 tristique nisi, blandit eleifend tellus. Morbi sit amet ante
//                 nunc. Ut consectetur lobortis pharetra.
//               </p>
//             </div>
//           </div>
//         </div>
//       </div>

//       <InsideSlide />
//     </>
//   );
// };

// export default page;

import { notFound } from "next/navigation";
import Image from "next/image";

const fetchBlogData = async (slug) => {
  const res = await fetch(
    `${process.env.NEXT_PUBLIC_WORDPRESS_API_URL}/posts?slug=${slug}&_embed`,
    { cache: "no-store" }
  );

  if (!res.ok) return null;
  const data = await res.json();
  return data.length > 0 ? data[0] : null;
};

const page = async ({ params }) => {
  const blog = await fetchBlogData(params.slug);
  if (!blog) return notFound();

  // Get featured image URL
  const featuredImage =
    blog._embedded?.["wp:featuredmedia"]?.[0]?.source_url ||
    "/default-image.jpg";

  // Determine Category Label
  const categoryLabels = {
    17: "Blogs",
    18: "News",
  };
  const categoryToShow =
    blog.categories.map((cat) => categoryLabels[cat]).find(Boolean) ||
    "Uncategorized";

  return (
    <div>
      {/* Blog Header Section */}
      <div className="bg-[#092241]">
        <div className="fix12 py-20">
          <div className="pb-16">
            <p className="text-[#D7D7D7A3] text-base fsans-400 pb-7">
              Home &gt; Blog
            </p>

            <div className="space-y-7">
              <p className="w-fit py-1 px-3 fsans-600 text-base bg-[#F7E327]">
                {categoryToShow}
              </p>
              <h1 className="fpt-500 text-[44px] leading-[105%] text-white">
                {blog.title.rendered}
              </h1>
            </div>
          </div>

          <div className="imgCon">
            <Image
              src={featuredImage}
              alt={blog.title.rendered}
              width={1200}
              height={600}
              className="w-full h-auto object-cover"
            />
          </div>
        </div>
      </div>

      {/* Blog Content */}
      <div className="fix12 px-10">
        <div className="middleBlogContent flex lg:gap-20 gap-9 py-20 relative">
          {/* Social Icons */}
          <div className="colIcon h-fit sticky top-20">
            <div className="flex w-10 flex-col gap-8">
              <Image
                className="w-9 h-9"
                src="/binside/BinFB.svg"
                alt="Facebook"
                width={36}
                height={36}
              />
              <Image
                className="w-9 h-9"
                src="/binside/BinIN.svg"
                alt="LinkedIn"
                width={36}
                height={36}
              />
              <Image
                className="w-9 h-9"
                src="/binside/BinInsta.svg"
                alt="Instagram"
                width={36}
                height={36}
              />
            </div>
          </div>

          {/* Blog Content */}
          <div className="colContnt">
            <div
              className="fsans-400 text-base leading-7 space-y-[18px] text-[#434343]"
              dangerouslySetInnerHTML={{ __html: blog.content.rendered }}
            />
          </div>
        </div>
      </div>
    </div>
  );
};

export default page;
